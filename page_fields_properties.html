<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cc_tools_qt: Defining Fields&#39; Properties</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">cc_tools_qt
   </div>
   <div id="projectbrief">Common Environment for Protocol Analysis.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Defining Fields' Properties</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#page_fields_properties_common">Common Properties</a><ul><li class="level2"><a href="#page_fields_properties_common_name">&quot;Name&quot; Property</a></li>
<li class="level2"><a href="#page_fields_properties_common_hidden">&quot;Hidden&quot; Property</a></li>
<li class="level2"><a href="#page_fields_properties_common_read_only">&quot;Read Only&quot; Property</a></li>
<li class="level2"><a href="#page_fields_properties_common_serialised_hidden">&quot;Serialised Hidden&quot; Property.</a></li>
</ul>
</li>
<li class="level1"><a href="#page_fields_properties_int_value">Properties for comms::field::IntValue</a><ul><li class="level2"><a href="#page_fields_properties_int_value_display_offset">&quot;Display Offset&quot; Property</a></li>
<li class="level2"><a href="#page_fields_properties_int_value_scaled_decimals">&quot;Scaled Decimals&quot; Property</a></li>
</ul>
</li>
<li class="level1"><a href="#page_fields_properties_enum_value">Properties for comms::field::EnumValue</a></li>
<li class="level1"><a href="#page_fields_properties_bitmask_value">Properties for comms::field::BitmaskValue</a></li>
<li class="level1"><a href="#page_fields_properties_bitfield">Properties for comms::field::Bitfield</a></li>
<li class="level1"><a href="#page_fields_properties_bundle">Properties for comms::field::Bundle</a></li>
<li class="level1"><a href="#page_fields_properties_string">Properties for comms::field::String</a></li>
<li class="level1"><a href="#page_fields_properties_array_list">Properties for comms::field::ArrayList</a></li>
<li class="level1"><a href="#page_fields_properties_optional">Properties for comms::field::Optional</a><ul><li class="level2"><a href="#page_fields_properties_optional_uncheckable">&quot;Uncheckable&quot; Property</a></li>
</ul>
</li>
<li class="level1"><a href="#page_fields_properties_float">Properties for comms::field::FloatValue</a><ul><li class="level2"><a href="#page_fields_properties_float_decimals">&quot;Decimals&quot; Properties</a></li>
</ul>
</li>
<li class="level1"><a href="#page_fields_properties_variant">Properties for comms::field::Variant</a><ul><li class="level2"><a href="#page_fields_properties_variant_index_hidden">&quot;IndexHidden&quot; Property.</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>The <a class="el" href="namespacecc__tools__qt_1_1property_1_1field.html" title="Namespace containing classes describing various properties of fields from COMMS library.">cc_tools_qt::property::field</a> namespace contains definition of multiple classes that are expected to be used to define fields properties. For example, let's take a look at definition of <b>field1</b> of <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/EnumValues.h">EnumValues</a> message of the <b>demo</b> protocol. The properties for such field can be defined as: </p><div class="fragment"><div class="line">QVariantMap props = </div>
<div class="line">    <a class="code hl_class" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html">cc_tools_qt::property::field::EnumValue</a>()</div>
<div class="line">        .<a class="code hl_function" href="classcc__tools__qt_1_1property_1_1field_1_1CommonBase.html#a9be3e597e8ec2dfabcb930ff5d2cc164">name</a>(<span class="stringliteral">&quot;field1&quot;</span>)</div>
<div class="line">        .<a class="code hl_function" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4f2091a2a98ed36cb44997158fc4340b">add</a>(<span class="stringliteral">&quot;Value1&quot;</span>)</div>
<div class="line">        .<a class="code hl_function" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4f2091a2a98ed36cb44997158fc4340b">add</a>(<span class="stringliteral">&quot;Value2&quot;</span>)</div>
<div class="line">        .<a class="code hl_function" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4f2091a2a98ed36cb44997158fc4340b">add</a>(<span class="stringliteral">&quot;Value3&quot;</span>)</div>
<div class="line">        .<a class="code hl_function" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4cfacfa795e160a9cef5a94bbc413496">asMap</a>();    </div>
<div class="ttc" id="aclasscc__tools__qt_1_1property_1_1field_1_1CommonBase_html_a9be3e597e8ec2dfabcb930ff5d2cc164"><div class="ttname"><a href="classcc__tools__qt_1_1property_1_1field_1_1CommonBase.html#a9be3e597e8ec2dfabcb930ff5d2cc164">cc_tools_qt::property::field::CommonBase::name</a></div><div class="ttdeci">TDerived &amp; name(const QString &amp;value)</div><div class="ttdoc">Set name value.</div><div class="ttdef"><b>Definition</b> field.h:183</div></div>
<div class="ttc" id="aclasscc__tools__qt_1_1property_1_1field_1_1EnumValue_html"><div class="ttname"><a href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html">cc_tools_qt::property::field::EnumValue</a></div><div class="ttdoc">Class to contain all the properties relevant to comms::field::EnumValue fields.</div><div class="ttdef"><b>Definition</b> field.h:304</div></div>
<div class="ttc" id="aclasscc__tools__qt_1_1property_1_1field_1_1EnumValue_html_a4cfacfa795e160a9cef5a94bbc413496"><div class="ttname"><a href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4cfacfa795e160a9cef5a94bbc413496">cc_tools_qt::property::field::EnumValue::asMap</a></div><div class="ttdeci">QVariantMap asMap() const</div><div class="ttdoc">Retrieve all properties as map.</div></div>
<div class="ttc" id="aclasscc__tools__qt_1_1property_1_1field_1_1EnumValue_html_a4f2091a2a98ed36cb44997158fc4340b"><div class="ttname"><a href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4f2091a2a98ed36cb44997158fc4340b">cc_tools_qt::property::field::EnumValue::add</a></div><div class="ttdeci">EnumValue &amp; add(const QString &amp;elemName, long long value)</div><div class="ttdoc">Add value description.</div></div>
</div><!-- fragment --><p> <b>NOTE</b> the final call to <b>asMap()</b> member function to retrieved the set properties as <b>QVariantMap</b>.</p>
<p>In general, the name of the properties setting class is the same as the field's class name from the <b>COMMS</b> library. What differs is their respective namespaces. </p><ul>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1IntValue.html" title="Class to contain all the properties relevant to comms::field::IntValue fields.">cc_tools_qt::property::field::IntValue</a> to define properties for <b>comms::field::IntValue</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html" title="Class to contain all the properties relevant to comms::field::EnumValue fields.">cc_tools_qt::property::field::EnumValue</a> to define properties for <b>comms::field::EnumValue</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1BitmaskValue.html" title="Class to contain all the properties relevant to comms::field::BitmaskValue fields.">cc_tools_qt::property::field::BitmaskValue</a> to define properties for <b>comms::field::BitmaskValue</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Bitfield.html" title="Class to contain all the properties relevant to comms::field::Bitfield fields.">cc_tools_qt::property::field::Bitfield</a> to define properties for <b>comms::field::Bitfield</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Bundle.html" title="Class to contain all the properties relevant to comms::field::Bundle fields.">cc_tools_qt::property::field::Bundle</a> to define properties for <b>comms::field::Bundle</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1String.html" title="Class to contain all the properties relevant to comms::field::String fields.">cc_tools_qt::property::field::String</a> to define properties for <b>comms::field::String</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html" title="Class to contain all the properties relevant to comms::field::ArrayList fields.">cc_tools_qt::property::field::ArrayList</a> to define properties for <b>comms::field::ArrayList</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Optional.html" title="Class to contain all the properties relevant to comms::field::Optional fields.">cc_tools_qt::property::field::Optional</a> to define properties for <b>comms::field::Optional</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1FloatValue.html" title="Class to contain all the properties relevant to comms::field::FloatValue fields.">cc_tools_qt::property::field::FloatValue</a> to define properties for <b>comms::field::FloatValue</b> field. </li>
<li>Use <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Variant.html" title="Class to contain all the properties relevant to comms::field::Variant fields.">cc_tools_qt::property::field::Variant</a> to define properties for <b>comms::field::Variant</b> field.</li>
</ul>
<p>The <b><a class="el" href="namespacecc__tools__qt.html" title="Main namespace for all classes / functions of the shared library.">cc_tools_qt</a></b> library also provides the alias type (<a class="el" href="namespacecc__tools__qt_1_1property_1_1field.html#af338ee95775590e91f10a4f6ea9d96a4">cc_tools_qt::property::field::ForField</a>) which can be used to retrieve the right properties definition type, based on the type of the field. For example, the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/EnumValues.cpp">cc_plugin/message/EnumValues.cpp</a> file contains the following code that defines properties for earlier mentioned <b>field1</b> field of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/EnumValues.h">EnumValues</a> message of the <b>demo</b> protocol. </p><div class="fragment"><div class="line"><span class="keyword">namespace </span>cc = <a class="code hl_namespace" href="namespacecc__tools__qt.html">cc_tools_qt</a>;</div>
<div class="line">...</div>
<div class="line">cc::property::field::ForField&lt;EnumValuesFields::field1&gt;()</div>
<div class="line">    .name(<span class="stringliteral">&quot;field1&quot;</span>)</div>
<div class="line">    .add(<span class="stringliteral">&quot;Value1&quot;</span>)</div>
<div class="line">    .add(<span class="stringliteral">&quot;Value2&quot;</span>)</div>
<div class="line">    .add(<span class="stringliteral">&quot;Value3&quot;</span>)</div>
<div class="line">    .asMap();</div>
<div class="ttc" id="anamespacecc__tools__qt_html"><div class="ttname"><a href="namespacecc__tools__qt.html">cc_tools_qt</a></div><div class="ttdoc">Main namespace for all classes / functions of the shared library.</div></div>
</div><!-- fragment --><p> Please note, that every "setter" function in every properties definition class returns reference to itself (<code>return *this</code>). It allows the application of settings "one on top of another", just like in the example above.</p>
<h1><a class="anchor" id="page_fields_properties_common"></a>
Common Properties</h1>
<p>All the mentioned earlier properties definition classes inherit from <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1CommonBase.html" title="Intermediate helper class to define properties describing one.">cc_tools_qt::property::field::CommonBase</a>, which in turn inherits from <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Common.html" title="Common set of properties.">cc_tools_qt::property::field::Common</a>. These classes provide set/get functionality of all the properties common to all the fields. They are: </p><ul>
<li><b>name</b> (see <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1CommonBase.html#a9be3e597e8ec2dfabcb930ff5d2cc164" title="Set name value.">cc_tools_qt::property::field::CommonBase::name()</a>) </li>
<li><b>hidden</b> (see <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1CommonBase.html#ac1653c8d4ec5f13840749acfbe357da7" title="Set whether the field is hidden.">cc_tools_qt::property::field::CommonBase::hidden()</a>) </li>
<li><b>readOnly</b> (see <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1CommonBase.html#ac480c12d0184d0f746f511f49f27bdc3" title="Set whether the field cannot be modified.">cc_tools_qt::property::field::CommonBase::readOnly()</a>) </li>
<li><b>serialisedHidden</b> (see <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1CommonBase.html#ae1e775d40508cd30b1a977ba338ff7c9" title="Set whether the serialised part is hidden.">cc_tools_qt::property::field::CommonBase::serialisedHidden()</a>)</li>
</ul>
<h2><a class="anchor" id="page_fields_properties_common_name"></a>
"Name" Property</h2>
<p>Every field has a name. The <b>cc_view</b> (main GUI application of the <b>CommsChampion Tools</b>) uses the provided "name" property value to display the name of the field in the generated widget:</p>
<p><img src="image/enum_value_field_name.png" alt="" class="inline"/></p>
<h2><a class="anchor" id="page_fields_properties_common_hidden"></a>
"Hidden" Property</h2>
<p>The <b>cc_view</b> application generated widget for every defined field of the message and every contained member field for such complex fields as <b>comms::field::Bitfield</b> or <b>comms::field::Bundle</b>. The "hidden" property will hide the generated widget. It can be useful when defining some reserved fields, which don't need to be displayed.</p>
<h2><a class="anchor" id="page_fields_properties_common_read_only"></a>
"Read Only" Property</h2>
<p>The values of some fields may depend on values of some other fields. It may be useful to disallow manual update of such fields. Good example would be having a field that shows number of elements in some other "list" field that appears later in the message. The contents of the former should not be allowed to be updated manually. When "readOnly" property is set, the <b>cc_view</b> application will disallow update of the relevant GUI elements.</p>
<h2><a class="anchor" id="page_fields_properties_common_serialised_hidden"></a>
"Serialised Hidden" Property.</h2>
<p>The <b>cc_view</b> application generated a widget for every field containing two parts. The left one contains value in human readable form, while right part contains raw byte(s) of the same value but serialised. The "serialisedHidden" property can be used to hide the right (serialised) part of the widget. It can be useful when displaying complex fields. For example, <b>field2</b> of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Lists.h">Lists</a> message. It is defined to be a fixed size list (3 elements) of <b>int16_t</b> values (<b>comms::field::IntValue&lt;...&gt;</b> fields). If the "serialisedHidden" property is NOT set neither on the list, nor on the int fields, the generated widget will contain duplicate information on serialised values. It will look like this:</p>
<p><img src="image/lists_dup_info.png" alt="" class="inline"/></p>
<p>It is up to developer to decide what "serialised" part to hide, whether it is of the list itself, or of the integer fields it contains.</p>
<h1><a class="anchor" id="page_fields_properties_int_value"></a>
Properties for comms::field::IntValue</h1>
<p>In addition to <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a>, the <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1IntValue.html" title="Class to contain all the properties relevant to comms::field::IntValue fields.">cc_tools_qt::property::field::IntValue</a> object has several of its own.</p>
<h2><a class="anchor" id="page_fields_properties_int_value_display_offset"></a>
"Display Offset" Property</h2>
<p>The <b>COMMS</b> library provides and ability to add a numeric offset to the value of <b>comms::field::IntValue</b> field when the latter is serialised. By default, the left-hand side of the field's widget displays the real value the field contains. Sometimes it is required to display such value with additional offset added to it. For example, the <b>demo</b> protocol defines is transport wrapping data as: </p><div class="fragment"><div class="line">SYNC | LENGTH | ID | PAYLOAD | CHECKSUM</div>
</div><!-- fragment --><p> The <b>LENGTH</b> value is defined to contain the remaining length <b>including</b> size of the <b>CHECKSUM</b>. However, the protocol stack is defined to have <b>CHECKSUM</b> layer wrapping the <b>LENGTH</b> one. As the result the real value of the "length" field doesn't include length of the <b>CHECKSUM</b> value (see <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/Stack.h">Stack.h</a>). </p><div class="fragment"><div class="line"><span class="keyword">using </span>LengthField =</div>
<div class="line">    comms::field::IntValue&lt;</div>
<div class="line">        FieldBase,</div>
<div class="line">        std::uint16_t,</div>
<div class="line">        comms::option::NumValueSerOffset&lt;<span class="keyword">sizeof</span>(std::uint16_t)&gt;</div>
<div class="line">    &gt;;</div>
</div><!-- fragment --><p>When displaying such field, the latter should also add "2" to its displayed value (see <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/TransportMessage.cpp">cc_plugin/TransportMessage.cpp</a>). </p><div class="fragment"><div class="line">QVariantList createFieldsProperties()</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">    props.append(</div>
<div class="line">        cc::property::field::ForField&lt;LengthField&gt;()</div>
<div class="line">            .name(<span class="stringliteral">&quot;LENGTH&quot;</span>)</div>
<div class="line">            .displayOffset(2)</div>
<div class="line">            .asMap());</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p> See definition of <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1IntValue.html#a15d6c2ae26019246f917ae8202c4fceb" title="Get numeric offset of the displayed field.">cc_tools_qt::property::field::IntValue::displayOffset()</a> for more details.</p>
<h2><a class="anchor" id="page_fields_properties_int_value_scaled_decimals"></a>
"Scaled Decimals" Property</h2>
<p>Many communcation protocols avoid serialisation of the floating point values. Instead they introduce scaling factor and use multiplication / division operations to convert such floating point values to integral one prior to serialisation. Such fields may be defined using <b>comms::field::IntValue</b> classes (see <b>field3</b> in <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/FloatValues.h">FloatValues</a> message definition). </p><div class="fragment"><div class="line"><span class="comment">// Floating point value serialised as integer with (1e-2) scaling ratio.</span></div>
<div class="line"><span class="keyword">using </span>field3 =</div>
<div class="line">    comms::field::IntValue&lt;</div>
<div class="line">        FieldBase,</div>
<div class="line">        std::uint8_t,</div>
<div class="line">        comms::option::ScalingRatio&lt;1, 100&gt;</div>
<div class="line">    &gt;;</div>
</div><!-- fragment --><p> However, sometimes it is desired to present it as floating point field to the user. In this case there is a need to provide information about how many digits need to be displayed after the decimal point (see <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/FloatValues.cpp">cc_plugin/message/FloatValues.cpp</a> ). </p><div class="fragment"><div class="line">QVariantList createFieldsProperties()</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">    props.append(</div>
<div class="line">        cc::property::field::ForField&lt;FloatValuesFields::field3&gt;()</div>
<div class="line">            .name(<span class="stringliteral">&quot;field3&quot;</span>)</div>
<div class="line">            .scaledDecimals(2)</div>
<div class="line">            .asMap());</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p> See definition of <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1IntValue.html#af844e8c791c4137e92854efd470495ca" title="Get number of digits after decimal point when displaying scaled value.">cc_tools_qt::property::field::IntValue::scaledDecimals()</a> for more details.</p>
<h1><a class="anchor" id="page_fields_properties_enum_value"></a>
Properties for comms::field::EnumValue</h1>
<p>In addition to <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a>, the <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html" title="Class to contain all the properties relevant to comms::field::EnumValue fields.">cc_tools_qt::property::field::EnumValue</a> object is expected to provide names to the enum values the <b>comms::field::EnumValue</b> field may contain. To add such information <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4f2091a2a98ed36cb44997158fc4340b" title="Add value description.">cc_tools_qt::property::field::EnumValue::add()</a> functions may be used. As an example let's take a look at <b>field1</b> of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/EnumValues.h">EnumValues</a> message. Its enum type is defined to be </p><div class="fragment"><div class="line"><span class="keyword">enum class</span> ValuesField1 : std::uint8_t</div>
<div class="line">{</div>
<div class="line">    Value1, </div>
<div class="line">    Value2, </div>
<div class="line">    Value3, </div>
<div class="line">    NumOfValues</div>
<div class="line">};</div>
</div><!-- fragment --><p> The first value starts at 0 and every next value is greater by 1 than the previous one. The properties of such field are defined in the following way (see <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/EnumValues.cpp">cc_plugin/message/EnumValues.cpp</a> ). </p><div class="fragment"><div class="line">QVariantList createFieldsProperties()</div>
<div class="line">{</div>
<div class="line">    QVariantList props;</div>
<div class="line">    props.append(</div>
<div class="line">        cc::property::field::ForField&lt;EnumValuesFields::field1&gt;()</div>
<div class="line">            .name(<span class="stringliteral">&quot;field1&quot;</span>)</div>
<div class="line">            .add(<span class="stringliteral">&quot;Value1&quot;</span>)</div>
<div class="line">            .add(<span class="stringliteral">&quot;Value2&quot;</span>)</div>
<div class="line">            .add(<span class="stringliteral">&quot;Value3&quot;</span>)</div>
<div class="line">            .asMap());</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>As a second example let's take a look at <b>field2</b> of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/EnumValues.h">EnumValues</a> message. Its enum type is defined to be </p><div class="fragment"><div class="line"><span class="keyword">enum class</span> ValuesField2 : std::int16_t</div>
<div class="line">{</div>
<div class="line">    Value1 = -5, </div>
<div class="line">    Value2 = 100,</div>
<div class="line">    Value3 = 130,</div>
<div class="line">    Value4 = 1028</div>
<div class="line">};</div>
</div><!-- fragment --><p> The properties of such enum field are defined in the following way (see <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/EnumValues.cpp">cc_plugin/message/EnumValues.cpp</a> ). </p><div class="fragment"><div class="line">QVariantList createFieldsProperties()</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">    props.append(</div>
<div class="line">        cc::property::field::ForField&lt;EnumValuesFields::field2&gt;()</div>
<div class="line">            .name(<span class="stringliteral">&quot;field2&quot;</span>)</div>
<div class="line">            .add(<span class="stringliteral">&quot;Value1&quot;</span>, (<span class="keywordtype">int</span>)EnumValuesFields::ValuesField2::Value1)</div>
<div class="line">            .add(<span class="stringliteral">&quot;Value2&quot;</span>, (<span class="keywordtype">int</span>)EnumValuesFields::ValuesField2::Value2)</div>
<div class="line">            .add(<span class="stringliteral">&quot;Value3&quot;</span>, (<span class="keywordtype">int</span>)EnumValuesFields::ValuesField2::Value3)</div>
<div class="line">            .add(<span class="stringliteral">&quot;Value4&quot;</span>, (<span class="keywordtype">int</span>)EnumValuesFields::ValuesField2::Value4)</div>
<div class="line">            .asMap());</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p> Please note the availability of two <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1EnumValue.html#a4f2091a2a98ed36cb44997158fc4340b" title="Add value description.">cc_tools_qt::property::field::EnumValue::add()</a> member functions. One of them receives numeric value of enumerator, the other doesn't. The latter just takes the latest inserted value, adds 1 to it and inserts the result as new one.</p>
<h1><a class="anchor" id="page_fields_properties_bitmask_value"></a>
Properties for comms::field::BitmaskValue</h1>
<p>In addition to <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a>, the <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1BitmaskValue.html" title="Class to contain all the properties relevant to comms::field::BitmaskValue fields.">cc_tools_qt::property::field::BitmaskValue</a> object is expected to provide names to the bits of the <b>comms::field::BitmaskValue</b> field. To add such information <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1BitmaskValue.html#a61edfbd0b86588dc0fb2523dd056296f" title="Add bit description.">cc_tools_qt::property::field::BitmaskValue::add()</a> functions may be used. The usage is very similar to <a class="el" href="page_fields_properties.html#page_fields_properties_enum_value">Properties for comms::field::EnumValue</a>. For examples please take a look at the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/BitmaskValues.h">BitmaskValues</a> message fields definition and definition of the properties inside <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/BitmaskValues.cpp">cc_plugin/message/BitmaskValues.cpp</a>.</p>
<h1><a class="anchor" id="page_fields_properties_bitfield"></a>
Properties for comms::field::Bitfield</h1>
<p>In addition to <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a>, the <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Bitfield.html" title="Class to contain all the properties relevant to comms::field::Bitfield fields.">cc_tools_qt::property::field::Bitfield</a> object is expected to provide also properties of the contained member fields. The properties are added using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Bitfield.html#ab8c710dbb1467cead7b12ed64610dbc2" title="Add properties of the next member.">cc_tools_qt::property::field::Bitfield::add()</a> member function. Note, that created properties are passed already converted to <b>QVariantMap</b>. For example, take a look at fields definitions of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Bitfields.h">Bitfields</a> message and their properties assignment inside the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Bitfields.cpp">cc_plugin/message/Bitfields.cpp</a>.</p>
<h1><a class="anchor" id="page_fields_properties_bundle"></a>
Properties for comms::field::Bundle</h1>
<p>Setting properties for <b>comms::field::Bundle</b> field is very similar to setting properties to <b>comms::field::Bitfield</b> (see <a class="el" href="page_fields_properties.html#page_fields_properties_bitfield">Properties for comms::field::Bitfield</a>). The properties of the member fields are assigned using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Bundle.html#a775bdd4b26ae4a529841a29d0701026d" title="Add properties of the next member.">cc_tools_qt::property::field::Bundle::add()</a> member function. For example take a look at definition of <b>field4</b> of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Lists.h">Lists</a> message. The properties for the bundle field are assigned using the following code (see <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Lists.cpp">cc_plugin/message/Lists.cpp</a>). </p><div class="fragment"><div class="line">QVariantMap createField4Properties()</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">    cc::property::field::ForField&lt;ListsFields::field4::ValueType::value_type&gt;()</div>
<div class="line">        .name(<span class="stringliteral">&quot;element&quot;</span>)</div>
<div class="line">        .add(cc::property::field::IntValue().name(<span class="stringliteral">&quot;memeber1&quot;</span>).asMap())</div>
<div class="line">        .add(cc::property::field::IntValue().name(<span class="stringliteral">&quot;memeber2&quot;</span>).asMap())</div>
<div class="line">        .serialisedHidden()</div>
<div class="line">        .asMap()</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="page_fields_properties_string"></a>
Properties for comms::field::String</h1>
<p>The <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1String.html" title="Class to contain all the properties relevant to comms::field::String fields.">cc_tools_qt::property::field::String</a> properties definition class doesn't have any extra properties in addition to <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a> . For usage example, please take a look at For example, take a look at fields definitions of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Strings.h">Strings</a> message definition and defining properties to its field inside <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Strings.cpp">cc_plugin/message/Strings.cpp</a>.</p>
<h1><a class="anchor" id="page_fields_properties_array_list"></a>
Properties for comms::field::ArrayList</h1>
<p>The <b>comms::field::ArrayList</b> is a variable length field. It may contain either raw bytes or variable number of fields of the same type. To set the properties for <b>comms::field::ArrayList</b> fields, the <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html" title="Class to contain all the properties relevant to comms::field::ArrayList fields.">cc_tools_qt::property::field::ArrayList</a> can be used. In case of storing raw bytes, there is no need for any extra properties except ones listed in <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a>. Let's take a look at definition of <b>field1</b> of <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Lists.h">Lists</a> message. </p><div class="fragment"><div class="line"><span class="comment">// Raw data list that uses 2 bytes size prefix</span></div>
<div class="line"><span class="keyword">using </span>field1 =</div>
<div class="line">    comms::field::ArrayList&lt;</div>
<div class="line">        FieldBase,</div>
<div class="line">        std::uint8_t,</div>
<div class="line">        comms::option::SequenceSizeFieldPrefix&lt;</div>
<div class="line">            comms::field::IntValue&lt;</div>
<div class="line">                FieldBase,</div>
<div class="line">                std::uint16_t</div>
<div class="line">            &gt;</div>
<div class="line">        &gt;</div>
<div class="line">    &gt;;</div>
</div><!-- fragment --><p> The properties for it are defined in <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Lists.cpp">cc_plugin/message/Lists.cpp</a>. </p><div class="fragment"><div class="line">QVariantList createFieldsProperties()</div>
<div class="line">{</div>
<div class="line">    QVariantList props;</div>
<div class="line">    props.append(cc::property::field::ForField&lt;ListsFields::field1&gt;().name(<span class="stringliteral">&quot;field1&quot;</span>).asMap());</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p> When <b>comms::field::ArrayList</b> field contains other fields, there is a need to provide properties for the latter as well. The properties for contained fields are added using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html#abcc027f2be809707a28e3c994f2cf636" title="Add properties of the next element.">cc_tools_qt::property::field::ArrayList::add()</a> member function. Let's take a look at definition of <b>field2</b> of the same <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Lists.h">Lists</a> message. </p><div class="fragment"><div class="line"><span class="comment">// List of 2 bytes integer value fields, with fixed size of 3 elements</span></div>
<div class="line"><span class="keyword">using </span>field2 =</div>
<div class="line">    comms::field::ArrayList&lt;</div>
<div class="line">        FieldBase,</div>
<div class="line">        comms::field::IntValue&lt;</div>
<div class="line">            FieldBase,</div>
<div class="line">            std::int16_t</div>
<div class="line">        &gt;,</div>
<div class="line">        comms::option::SequenceFixedSize&lt;3&gt;</div>
<div class="line">    &gt;;</div>
</div><!-- fragment --><p> The maximum number of the elements the list is going to store is known. It is 3. Then, it is possible to assign different properties for each and every one of them. The same <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Lists.cpp">cc_plugin/message/Lists.cpp</a>. file contains the following code: </p><div class="fragment"><div class="line">QVariantMap createField2Properties()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">typedef</span> ListsFields::field2 Field2;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">auto</span> ElemCount =</div>
<div class="line">        Field2::fixedSize();</div>
<div class="line"> </div>
<div class="line">    cc::property::field::ForField&lt;ListsFields::field2&gt; props;</div>
<div class="line">    props.name(<span class="stringliteral">&quot;field2&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> idx = 0U; idx &lt; ElemCount; ++idx) {</div>
<div class="line">        props.add(</div>
<div class="line">            cc::property::field::IntValue()</div>
<div class="line">                .name(QString(<span class="stringliteral">&quot;element %1&quot;</span>).arg(idx))</div>
<div class="line">                .serialisedHidden()</div>
<div class="line">                .asMap());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> props.asMap();</div>
<div class="line">}</div>
</div><!-- fragment --><p> Note, that <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html#abcc027f2be809707a28e3c994f2cf636" title="Add properties of the next element.">cc_tools_qt::property::field::ArrayList::add()</a> member functions was invoked multiple times providing different name for every contained field.</p>
<p>Quite often the maximum number of fields the <b>comms::field::ArrayList</b> field may contain is not known up front. In this case only one set of properties should be added to <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html" title="Class to contain all the properties relevant to comms::field::ArrayList fields.">cc_tools_qt::property::field::ArrayList</a> object, which is going to be used for every displayed field that the list contains. As an example, let's take a look at <b>field3</b> of the same <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Lists.h">Lists</a> message. </p><div class="fragment"><div class="line"><span class="comment">// List of 2 bytes integer value fields, prefixed with 2 bytes serialisation length</span></div>
<div class="line"><span class="keyword">using </span>field3 =</div>
<div class="line">    comms::field::ArrayList&lt;</div>
<div class="line">        FieldBase,</div>
<div class="line">        comms::field::IntValue&lt;</div>
<div class="line">            FieldBase,</div>
<div class="line">            std::uint16_t</div>
<div class="line">        &gt;,</div>
<div class="line">        comms::option::SequenceSerLengthFieldPrefix&lt;</div>
<div class="line">            comms::field::IntValue&lt;</div>
<div class="line">                FieldBase,</div>
<div class="line">                std::uint16_t</div>
<div class="line">            &gt;</div>
<div class="line">        &gt;</div>
<div class="line">    &gt;;</div>
</div><!-- fragment --><p> The same <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Lists.cpp">cc_plugin/message/Lists.cpp</a>. file contains the following properties setting code: </p><div class="fragment"><div class="line">QVariantMap createField3Properties()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span></div>
<div class="line">        cc::property::field::ForField&lt;ListsFields::field3&gt;()</div>
<div class="line">            .name(<span class="stringliteral">&quot;field3&quot;</span>)</div>
<div class="line">            .add(cc::property::field::IntValue().name(<span class="stringliteral">&quot;element&quot;</span>).serialisedHidden().asMap())</div>
<div class="line">            .asMap();</div>
<div class="line">}</div>
</div><!-- fragment --><p>Quite often the <b>comms::field::ArrayList</b> fields are prefixed with number of elements to follow or serialisation length, just like <b>field3</b> of the <br  />
 <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Lists.h">Lists</a> message mentioned earlier. Sometimes it would be convenient to hide the "serialised" information of the list itself ( on the right-hand side of the generated widget), but show one of the contained fields. In this case the information about the list's "prefix" part won't be displayed. To rectify this situation the <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html" title="Class to contain all the properties relevant to comms::field::ArrayList fields.">cc_tools_qt::property::field::ArrayList</a> class provides an ability to show and name such prefix. Please use the following functions to provide such information: </p><ul>
<li><a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html#a432034880254f88bef751397382bceeb" title="Set whether the size/length prefix field should be displayed separately.">cc_tools_qt::property::field::ArrayList::showPrefix()</a> </li>
<li><a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1ArrayList.html#ae5fdf243f4ee6abbcd69f33d461543e4" title="Get name of the size/length prefix displayed separately.">cc_tools_qt::property::field::ArrayList::prefixName()</a></li>
</ul>
<h1><a class="anchor" id="page_fields_properties_optional"></a>
Properties for comms::field::Optional</h1>
<p>The properties for <b>comms::field::Optional</b> field are set using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Optional.html" title="Class to contain all the properties relevant to comms::field::Optional fields.">cc_tools_qt::property::field::Optional</a> object. In addition to <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a> it must also contain properties of the wrapped (contained) field. The properties of the latter are set using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Optional.html#a9e0de610a3748337a4966c346614b307" title="Get access to contained field&#39;s properties.">cc_tools_qt::property::field::Optional::field()</a> member function.</p>
<h2><a class="anchor" id="page_fields_properties_optional_uncheckable"></a>
"Uncheckable" Property</h2>
<p>By default, the widget generated for the <b>comms::field::Optional</b> field will have small check box which can be used to mark the field as "existing" or "missing". However, most of the time the existence of the <b>comms::field::Optional</b> field is determined by the value of some other field (such as bit in some bitmask). In this case, the user is not supposed to be able to use the described checkbox. Adding the "uncheckable" property will hide it.</p>
<p>As an example, let's take a look at <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Optionals.h">Optionals</a> message. The existance of its <b>field2</b> and <b>field3</b> fields is determined by the value of the <b>field1</b>. The properties of the mentioned field are set in <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Optionals.cpp">cc_plugin/message/Optionals.cpp</a>. file. </p><div class="fragment"><div class="line">QVariantMap createField2Properties()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* Name = <span class="stringliteral">&quot;field2&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span></div>
<div class="line">        cc::property::field::ForField&lt;OptionalsFields::field2&gt;()</div>
<div class="line">            .name(Name)</div>
<div class="line">            .field(</div>
<div class="line">                cc::property::field::ForField&lt;OptionalsFields::field2::Field&gt;()</div>
<div class="line">                    .name(Name)</div>
<div class="line">                    .asMap())</div>
<div class="line">            .uncheckable()</div>
<div class="line">            .asMap();</div>
<div class="line">}</div>
</div><!-- fragment --><p> Please note, that the example above sets the same name for <b>the</b> comms::field::Optional field and the wrapped <b>comms::field::IntValue</b> field. The name assigned to the <b>the</b> comms::field::Optional field will be displayed when the field is "missing", but when it's marked as "existing", the widget of the wrapped <b>comms::field::IntValue</b> field is displayed, showing the name of the latter.</p>
<h1><a class="anchor" id="page_fields_properties_float"></a>
Properties for comms::field::FloatValue</h1>
<p>The properties for <b>comms::field::FloatValue</b> are defined using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1FloatValue.html" title="Class to contain all the properties relevant to comms::field::FloatValue fields.">cc_tools_qt::property::field::FloatValue</a>. Just like any other field it has all the properties described in <a class="el" href="page_fields_properties.html#page_fields_properties_common">Common Properties</a>. It also has one more.</p>
<h2><a class="anchor" id="page_fields_properties_float_decimals"></a>
"Decimals" Properties</h2>
<p>When displaying value of the <b>comms::field::FloatValue</b> field there is a need to know how many digits to display after the decimal point. The information is provided using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1FloatValue.html#ae220c05c1de9dbbae7eafaa5cb6c8d18" title="Get number of decimal digits to display.">cc_tools_qt::property::field::FloatValue::decimals()</a> member function. The <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/FloatValues.cpp">cc_plugin/message/FloatValues.cpp</a> file contains code setting properties for such fields used by <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/FloatValues.h">FloatValues</a> message.</p>
<h1><a class="anchor" id="page_fields_properties_variant"></a>
Properties for comms::field::Variant</h1>
<p>The process of assigning properties for <b>comms::field::Variant</b> field is very similar to setting properties to <b>comms::field::Bundle</b> (see <a class="el" href="page_fields_properties.html#page_fields_properties_bundle">Properties for comms::field::Bundle</a>). The properties for all possible fields the <b>comms::field::Variant</b> may contain are added using <a class="el" href="classcc__tools__qt_1_1property_1_1field_1_1Variant.html#afc7a3f4935ddbdf4def2448f9aa788ec" title="Add properties of the next member.">cc_tools_qt::property::field::Variant::add()</a> member function in the order of their definition inside the provided <b>std::tuple</b>.</p>
<h2><a class="anchor" id="page_fields_properties_variant_index_hidden"></a>
"IndexHidden" Property.</h2>
<p>When setting value of the <b>comms::field::Variant</b> field, the <b>cc_view</b> (main GUI application) allows choice of the actual field type using spin box with type index. However, when the widget has been created and displayed in "read only" mode such index may be hidden using described property. Use cc_tools_qt::property::field::Variant::indexHidden() member function to set it. For example please take a look at definition of the <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/include/demo/message/Variants.h">Variants</a> message and the properties setting code inside <a href="https://github.com/commschamp/cc_tools_qt/blob/master/demo/cc_plugin/message/Variants.cpp">cc_plugin/message/Variants.cpp</a> file. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
